{"ast":null,"code":"var _jsxFileName = \"E:\\\\GitHub\\\\origamid-dogs\\\\src\\\\Components\\\\Feed\\\\index.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FeedPhotos from \"./FeedPhotos\";\nimport FeedModal from \"./FeedModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Feed({\n  user = 0\n}) {\n  _s();\n  const [pages, setPages] = React.useState([1]);\n  const [modalPhoto, setModalPhoto] = React.useState(null);\n  const [infinite, setInfinite] = React.useState(true);\n  let wait = false;\n  const infiniteScroll = React.useCallback(() => {\n    if (infinite) {\n      const scroll = window.scrollY;\n      const height = window.outerHeight - document.body.offsetHeight;\n      if (scroll > height * 0.75 && !wait) {\n        setPages(oldPages => [...oldPages, oldPages.length + 1]);\n        wait = true;\n        setTimeout(() => {\n          wait = false;\n        }, 500);\n      }\n    }\n  }, [setPages, infinite]);\n  React.useEffect(() => {\n    window.addEventListener(\"wheel\", infiniteScroll);\n    window.addEventListener(\"scroll\", infiniteScroll);\n    return () => {\n      window.removeEventListener(\"wheel\", infiniteScroll);\n      window.removeEventListener(\"scroll\", infiniteScroll);\n    };\n  }, [infiniteScroll]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [modalPhoto && /*#__PURE__*/_jsxDEV(FeedModal, {\n      photo: modalPhoto,\n      setModalPhoto: setModalPhoto\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), pages.map(page => /*#__PURE__*/_jsxDEV(FeedPhotos, {\n      user: user,\n      page: page,\n      setModalPhoto: setModalPhoto,\n      setInfinite: setInfinite\n    }, page, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n}\n_s(Feed, \"EcXrCh/OFgrGITj8uztgckhnQ2k=\");\n_c = Feed;\nFeed.protoTypes = {\n  user: PropTypes.oneOfType(PropTypes.string.isRequired, PropTypes.number.isRequired)\n};\nexport default Feed;\nvar _c;\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"names":["React","PropTypes","FeedPhotos","FeedModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Feed","user","_s","pages","setPages","useState","modalPhoto","setModalPhoto","infinite","setInfinite","wait","infiniteScroll","useCallback","scroll","window","scrollY","height","outerHeight","document","body","offsetHeight","oldPages","length","setTimeout","useEffect","addEventListener","removeEventListener","children","photo","fileName","_jsxFileName","lineNumber","columnNumber","map","page","_c","protoTypes","oneOfType","string","isRequired","number","$RefreshReg$"],"sources":["E:/GitHub/origamid-dogs/src/Components/Feed/index.js"],"sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport FeedPhotos from \"./FeedPhotos\";\r\nimport FeedModal from \"./FeedModal\";\r\n\r\nfunction Feed({ user = 0 }) {\r\n  const [pages, setPages] = React.useState([1]);\r\n  const [modalPhoto, setModalPhoto] = React.useState(null);\r\n  const [infinite, setInfinite] = React.useState(true);\r\n  let wait = false;\r\n\r\n  const infiniteScroll = React.useCallback(() => {\r\n    if (infinite) {\r\n      const scroll = window.scrollY;\r\n      const height = window.outerHeight - document.body.offsetHeight;\r\n      if (scroll > height * 0.75 && !wait) {\r\n        setPages((oldPages) => [...oldPages, oldPages.length + 1]);\r\n        wait = true;\r\n        setTimeout(() => {\r\n          wait = false;\r\n        }, 500);\r\n      }\r\n    }\r\n  }, [setPages, infinite]);\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"wheel\", infiniteScroll);\r\n    window.addEventListener(\"scroll\", infiniteScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"wheel\", infiniteScroll);\r\n      window.removeEventListener(\"scroll\", infiniteScroll);\r\n    };\r\n  }, [infiniteScroll]);\r\n\r\n  return (\r\n    <>\r\n      {modalPhoto && (\r\n        <FeedModal photo={modalPhoto} setModalPhoto={setModalPhoto} />\r\n      )}\r\n      {pages.map((page) => (\r\n        <FeedPhotos\r\n          key={page}\r\n          user={user}\r\n          page={page}\r\n          setModalPhoto={setModalPhoto}\r\n          setInfinite={setInfinite}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nFeed.protoTypes = {\r\n  user: PropTypes.oneOfType(\r\n    PropTypes.string.isRequired,\r\n    PropTypes.number.isRequired\r\n  ),\r\n};\r\n\r\nexport default Feed;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,SAAS,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpC,SAASC,IAAIA,CAAC;EAAEC,IAAI,GAAG;AAAE,CAAC,EAAE;EAAAC,EAAA;EAC1B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,KAAK,CAACa,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGf,KAAK,CAACa,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,KAAK,CAACa,QAAQ,CAAC,IAAI,CAAC;EACpD,IAAIK,IAAI,GAAG,KAAK;EAEhB,MAAMC,cAAc,GAAGnB,KAAK,CAACoB,WAAW,CAAC,MAAM;IAC7C,IAAIJ,QAAQ,EAAE;MACZ,MAAMK,MAAM,GAAGC,MAAM,CAACC,OAAO;MAC7B,MAAMC,MAAM,GAAGF,MAAM,CAACG,WAAW,GAAGC,QAAQ,CAACC,IAAI,CAACC,YAAY;MAC9D,IAAIP,MAAM,GAAGG,MAAM,GAAG,IAAI,IAAI,CAACN,IAAI,EAAE;QACnCN,QAAQ,CAAEiB,QAAQ,IAAK,CAAC,GAAGA,QAAQ,EAAEA,QAAQ,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC1DZ,IAAI,GAAG,IAAI;QACXa,UAAU,CAAC,MAAM;UACfb,IAAI,GAAG,KAAK;QACd,CAAC,EAAE,GAAG,CAAC;MACT;IACF;EACF,CAAC,EAAE,CAACN,QAAQ,EAAEI,QAAQ,CAAC,CAAC;EAExBhB,KAAK,CAACgC,SAAS,CAAC,MAAM;IACpBV,MAAM,CAACW,gBAAgB,CAAC,OAAO,EAAEd,cAAc,CAAC;IAChDG,MAAM,CAACW,gBAAgB,CAAC,QAAQ,EAAEd,cAAc,CAAC;IAEjD,OAAO,MAAM;MACXG,MAAM,CAACY,mBAAmB,CAAC,OAAO,EAAEf,cAAc,CAAC;MACnDG,MAAM,CAACY,mBAAmB,CAAC,QAAQ,EAAEf,cAAc,CAAC;IACtD,CAAC;EACH,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,oBACEd,OAAA,CAAAE,SAAA;IAAA4B,QAAA,GACGrB,UAAU,iBACTT,OAAA,CAACF,SAAS;MAACiC,KAAK,EAAEtB,UAAW;MAACC,aAAa,EAAEA;IAAc;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC9D,EACA7B,KAAK,CAAC8B,GAAG,CAAEC,IAAI,iBACdrC,OAAA,CAACH,UAAU;MAETO,IAAI,EAAEA,IAAK;MACXiC,IAAI,EAAEA,IAAK;MACX3B,aAAa,EAAEA,aAAc;MAC7BE,WAAW,EAAEA;IAAY,GAJpByB,IAAI;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAKV,CACF,CAAC;EAAA,eACF,CAAC;AAEP;AAAC9B,EAAA,CA9CQF,IAAI;AAAAmC,EAAA,GAAJnC,IAAI;AAgDbA,IAAI,CAACoC,UAAU,GAAG;EAChBnC,IAAI,EAAER,SAAS,CAAC4C,SAAS,CACvB5C,SAAS,CAAC6C,MAAM,CAACC,UAAU,EAC3B9C,SAAS,CAAC+C,MAAM,CAACD,UACnB;AACF,CAAC;AAED,eAAevC,IAAI;AAAC,IAAAmC,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}